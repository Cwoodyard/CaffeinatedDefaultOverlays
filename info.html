<!DOCTYPE html>
<html>

    <head>
        <meta charset="utf-8" />
        <title>Caffeinated TopDonation</title>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.4.8/socket.io.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/webfont/1.6.28/webfontloader.js"></script>
        <script src="overlayutil.js"></script>
        <style>
            #text {
                text-shadow: 1.5px 1.5px rgba(0, 0, 0, 0.3);
                color: white;
                white-space: pre;
                position: absolute;
                left: 0;
                top: 0;
            }

            p {
                margin: 0;
            }
        </style>
    </head>

    <body>
        <span id="text"></span>
    </body>

    <footer>
        <script>
            const overlay = new OverlayUtil("casterlabs_info");
            let config = null;
            let event = {
                username: "",
                amount: ""
            };

            overlay.on("config", (data) => {
                config = data;

                overlay.changeFont(config.font);

                update();
            });

            overlay.on("event", (data) => {
                if (config) {
                    event = data;
                    update();
                }
            });

            function update() {
                document.querySelector("#text").innerHTML = config.text.replace("%username%", event.username).replace("%amount%", event.amount);
            }

        </script>
    </footer>

</html>